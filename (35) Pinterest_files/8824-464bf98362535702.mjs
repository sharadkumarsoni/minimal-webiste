(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8824],{512176:(e,i,t)=>{t.d(i,{Z:()=>d});var s=t(667294),n=t(898781),a=t(112690),o=t(967181),l=t(883119),r=t(785893);const c={sm:12,md:16,lg:20,xl:24};function d({isVerifiedMerchant:e,size:i,showText:t,showVerifiedIdentity:d,inspirationalBadges:h,inspirationalBadgesColor:_}){const p=(0,n.ZP)(),[u,g]=(0,s.useState)(!1),{dangerousInlineStyle:m,iconColor:x}=(0,o.W)(!!e),f=(0,a.Z)();return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)(l.iP,{onTap:()=>{f({component:13534,element:11717,event_type:102}),g(!0)},rounding:"circle",children:(0,r.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:m,display:"flex","data-test-id":"verified-badge-icon",children:[(0,r.jsx)(l.JO,{accessibilityLabel:e?p._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):p._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),icon:"workflow-status-ok",color:x,inline:!0,size:c[i]}),t&&!d&&(0,r.jsx)(l.xu,{marginStart:2,children:(0,r.jsx)(l.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,r.jsx)(l.xu,{dangerouslySetInlineStyle:m,children:p._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(e||t&&!d)&&(0,r.jsx)(o.Z,{showModal:u,setShowModal:g,inspirationalBadges:h,inspirationalBadgesColor:_})]})}},967181:(e,i,t)=>{t.d(i,{W:()=>h,Z:()=>_});var s=t(667294),n=t(121151),a=t(898781),o=t(112690),l=t(966113),r=t(752403),c=t(883119),d=t(785893);const h=e=>{const i=e?"shopping":"error";return{iconColor:i,dangerousInlineStyle:{__style:{color:i}}}};function _({inspirationalBadges:e=[],inspirationalBadgesColor:i,showModal:t,setShowModal:_}){const p=(0,a.ZP)(),[u,g]=(0,s.useState)(!0),{dangerousInlineStyle:m,iconColor:x}=h(!0),f=(0,o.Z)();return(0,s.useEffect)((()=>{t&&u&&(g(!1),f({event_type:13,component:13534}))}),[t]),(0,d.jsx)(n.ZP,{"data-test-id":"modal",isOpen:t,mobileAccessibilityCloseIconLabel:p._('Close', 'Close modal window', 'Close modal'),onDismiss:()=>{f({component:13534,element:11716,event_type:102}),_(!1)},type:"verified_merchant_modal",children:(0,d.jsx)(c.xu,{padding:3,children:(0,d.jsxs)(c.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,d.jsx)(c.xu,{display:"flex",dangerouslySetInlineStyle:m,justifyContent:"center",children:(0,d.jsx)(c.JO,{accessibilityLabel:p._('Merchant verification badge icon', 'creator.verifiedMerchant.modalIcon', 'Badge indicating that a merchant or user is verified'),color:x,icon:"workflow-status-ok",size:24})}),(0,d.jsx)(c.xu,{marginTop:4,children:(0,d.jsx)(c.xv,{color:"shopping",weight:"bold",align:"center",children:(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:m,children:p._('Verified merchant', 'creator.verifiedMerchant.modalHeader', 'this merchant is a verified merchant')})})}),(0,d.jsx)(c.xu,{marginTop:4,marginBottom:4,children:(0,d.jsx)(c.xv,{align:"center",overflow:"normal",children:p._('This retailer meets Pinterest\'s Merchant Guidelines', 'creator.verifiedMerchant.modalText.', 'this merchant is a verified merchant')})}),e.map((e=>(0,d.jsxs)(c.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,d.jsx)(c.kC,{alignItems:"stretch",justifyContent:"center",children:(0,d.jsx)(c.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,d.jsx)(c.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,r.ym)(i)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,d.jsx)(c.xu,{marginTop:2,children:(0,d.jsx)(c.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,d.jsx)(c.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,d.jsx)(c.zx,{role:"link",accessibilityLabel:p._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com'),target:"blank",size:"lg",href:l.vB,text:p._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com')})})]})})})}},752403:(e,i,t)=>{t.d(i,{Bu:()=>u,Dm:()=>l,I:()=>x,NG:()=>_,QP:()=>d,S4:()=>c,Xe:()=>h,_f:()=>p,eT:()=>g,hm:()=>m,yQ:()=>r,ym:()=>v});var s=t(642345);const n=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),a=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),o=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),l=[...Object.keys(n).map((e=>n[e])),...Object.keys(a).map((e=>a[e]))],r=[...Object.keys(o).map((e=>o[e]))],c=3,d=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],h={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:d[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},_="https://help.pinterest.com/article/merchant-details",p="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function u({verifiedMerchant:e}){var i,t;const s=null==e?void 0:e.isVerifiedMerchant,n=null==e||null===(i=e.inspirational_signal)||void 0===i?void 0:i.is_inspirational,a=null==e||null===(t=e.inspirational_signal)||void 0===t?void 0:t.is_eligible_for_storefront_badges;return Boolean(s&&n&&a)}function g(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function m(e){return(null==e?void 0:e.profile_badges)||[]}function x(e,i,t){return i&&t?i.map((e=>t.find((i=>i.id===e.trim())))).filter(Boolean):[]}function f(e){const i=(0,s.oo)(e);if(!i)return"white";const[t,n,a]=i;return(0,s.DW)(t,n,a)<=s.I?"white":"black"}function v(e){const i=e||d[0];return{backgroundColor:i,color:f(i)}}},642345:(e,i,t)=>{t.d(i,{DW:()=>l,I:()=>o,oo:()=>a,vq:()=>n});const s=e=>{const i=e.toString(16);return 1===i.length?"0"+i:i},n=(e,i,t)=>"#"+s(e)+s(i)+s(t),a=e=>{const i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i&&[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]},o=.18,l=(e,i,t)=>.2126*(e/255)**2.2+.7151*(i/255)**2.2+.0721*(t/255)**2.2},378518:(e,i,t)=>{t.d(i,{_:()=>c,a:()=>d});var s=t(667294),n=t(702664),a=t(618446),o=t.n(a),l=t(780280),r=t(332611);const c=({extraContext:e,id:i,shouldUsePlacedExperience:t=!0})=>{const a=(0,s.useRef)(),c=(0,n.useDispatch)(),{isBot:d}=(0,l.B)(),h=(0,n.useSelector)((e=>e.experiences[i]));return(0,s.useEffect)((()=>{c((0,r.kd)(i))}),[c,h,i]),(0,s.useEffect)((()=>{t||o()(a.current,e)||(c((0,r.pz)([i],d,e)),a.current=e)}),[c,e,d,i,t]),h},d=e=>(c(e),(0,n.useSelector)((i=>i.experiencesMulti[e.id])))},90771:(e,i,t)=>{t.d(i,{Z:()=>n});var s=t(785893);function n({size:e=56}){return(0,s.jsxs)("svg",{fill:"none",height:e,width:e,viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,s.jsx)("rect",{fill:"#1a73e8",height:"56",rx:"28",width:"56"}),(0,s.jsx)("path",{d:"m37.086 39.782h-18.454c-2.624 0-4.914-1.983-4.914-4.607v-.028 1.536c0 2.624 2.29 4.913 4.914 4.913h18.454c2.653 0 4.914-2.317 4.914-4.913v-1.536c0 2.624-2.29 4.635-4.914 4.635zm-23.395-13.234v-2.094l-3.434-5.667c-.196-.307-.28-.586-.252-.866v2.401c0 .224.084.447.223.698z",fill:"#185abc"}),(0,s.jsx)("path",{d:"m37.086 17h-25.853c-1.033 0-1.619.893-.92 1.843l3.377 5.863v10.469c0 2.68 1.955 4.914 4.607 4.914h18.761c2.653 0 4.914-2.262 4.914-4.914v-13.233c.028-2.68-2.234-4.942-4.886-4.942z",fill:"#fff"}),(0,s.jsx)("path",{d:"m36.78 24.39h-17.842c-.782 0-1.535-.474-1.535-1.228 0-.753.753-1.228 1.535-1.228h17.84c.782 0 1.536.475 1.536 1.228 0 .754-.754 1.229-1.536 1.229zm0 4.915h-17.842c-.782 0-1.535-.475-1.535-1.229s.753-1.228 1.535-1.228h17.84c.782 0 1.536.474 1.536 1.228s-.754 1.229-1.536 1.229zm-4.942 4.941h-12.928c-.782 0-1.535-.474-1.535-1.228s.753-1.229 1.535-1.229h12.927c.781 0 1.535.475 1.535 1.229s-.754 1.228-1.535 1.228z",fill:"#8ab4f8"})]})}},214680:(e,i,t)=>{t.d(i,{Z:()=>n});var s=t(785893);function n({size:e=56}){return(0,s.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,s.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4144_9512)"}),(0,s.jsx)("path",{d:"M27.7512 13C23.3085 13 19.0478 14.47 15.9063 17.0867C12.7649 19.7033 11 23.2522 11 26.9526C11.004 29.3596 11.7556 31.7247 13.1816 33.8182C14.6076 35.9117 16.6595 37.6624 19.138 38.9C18.4779 40.3778 17.4878 41.7636 16.2089 43C18.6891 42.5646 21.0173 41.65 23.0123 40.3273C24.5505 40.708 26.1465 40.9027 27.7512 40.9053C32.1939 40.9052 36.4546 39.4352 39.5961 36.8186C42.7375 34.202 44.5024 30.6531 44.5024 26.9526C44.5024 23.2522 42.7375 19.7033 39.5961 17.0867C36.4546 14.47 32.1939 13 27.7512 13Z",fill:"white"}),(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"paint0_linear_4144_9512",x1:"28.4444",y1:"52.2827",x2:"28.4444",y2:"6.94986",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:"#0CBD2A"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#5BF675"})]})})]})}},862960:(e,i,t)=>{t.d(i,{Z:()=>n});var s=t(785893);function n({size:e=56}){return(0,s.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,s.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4401_2673)"}),(0,s.jsx)("path",{d:"M22.452 39.991c-.907 0-.753-.342-1.066-1.206l-2.667-8.779 20.533-12.181",fill:"#C8DAEA"}),(0,s.jsx)("path",{d:"M22.452 39.991c.7 0 1.01-.32 1.4-.7l3.734-3.63-4.657-2.808",fill:"#A9C9DD"}),(0,s.jsx)("path",{d:"m22.928 32.854 11.284 8.336c1.288.71 2.217.343 2.538-1.195l4.593-21.645c.47-1.885-.719-2.74-1.95-2.181l-26.971 10.4c-1.841.738-1.83 1.765-.336 2.223l6.921 2.16 16.024-10.109c.757-.458 1.45-.212.881.294",fill:"url(#paint1_linear_4401_2673)"}),(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",{id:"paint0_linear_4401_2673",x1:"37.352",y1:"9.352",x2:"23.352",y2:"42",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:"#37AEE2"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#1E96C8"})]}),(0,s.jsxs)("linearGradient",{id:"paint1_linear_4401_2673",x1:"31.096",y1:"27.16",x2:"35.466",y2:"37.116",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:"#EFF7FC"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#fff"})]})]})]})}},89396:(e,i,t)=>{t.d(i,{Z:()=>n});var s=t(785893);function n({size:e=56}){return(0,s.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,s.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#7360F2"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.362 31.327s.57.05.875-.33l.597-.75c.288-.374.984-.61 1.665-.232.902.509 2.067 1.309 2.866 2.054.44.371.542.918.242 1.495l-.002.012a6.278 6.278 0 0 1-1.243 1.53l-.012.009c-.587.489-1.261.773-1.983.538l-.013-.018c-1.296-.367-4.405-1.952-6.386-3.532-3.242-2.558-5.546-6.776-6.183-9.038l-.02-.013c-.235-.724.052-1.398.539-1.984l.01-.01a6.224 6.224 0 0 1 1.53-1.243l.012-.003c.576-.3 1.122-.198 1.494.243.49.505 1.408 1.721 2.054 2.865.378.68.141 1.377-.231 1.664l-.752.598c-.379.306-.33.876-.33.876s1.113 4.207 5.271 5.269Zm6.543-3.488a.405.405 0 0 1-.406-.403c-.018-2.44-.752-4.384-2.178-5.776-1.43-1.393-3.236-2.108-5.37-2.122a.403.403 0 0 1-.4-.408.403.403 0 0 1 .403-.402h.003c2.35.016 4.344.808 5.93 2.352 1.586 1.55 2.402 3.687 2.422 6.35a.406.406 0 0 1-.401.409h-.003Zm-2.127-.832h-.01a.405.405 0 0 1-.395-.414c.032-1.384-.364-2.503-1.208-3.425-.84-.918-1.993-1.42-3.527-1.532a.406.406 0 0 1-.374-.433.406.406 0 0 1 .433-.375c1.725.127 3.093.73 4.065 1.794.977 1.066 1.456 2.409 1.42 3.989a.406.406 0 0 1-.404.396Zm-2.077-.696a.404.404 0 0 1-.404-.386c-.068-1.373-.716-2.045-2.036-2.117a.404.404 0 1 1 .043-.808c1.744.093 2.712 1.092 2.8 2.886a.403.403 0 0 1-.383.423l-.02.002Zm9.09 4.625c-.808 6.503-5.563 6.913-6.44 7.195-.374.12-3.843.982-8.203.698 0 0-3.251 3.92-4.266 4.94-.158.159-.344.223-.469.194-.175-.043-.223-.251-.22-.553l.027-5.354v-.001c-6.35-1.764-5.98-8.394-5.908-11.864.072-3.47.724-6.315 2.661-8.227 3.48-3.152 10.65-2.681 10.65-2.681 6.054.027 8.955 1.85 9.628 2.46 2.234 1.912 3.371 6.49 2.54 13.193Zm-.87-14.817c-.796-.73-4.01-3.064-11.167-3.096 0 0-8.44-.51-12.554 3.267-2.29 2.29-3.096 5.64-3.181 9.797-.085 4.157-.195 11.944 7.311 14.056l.008.002-.005 3.221s-.047 1.306.812 1.572c1.039.322 1.648-.669 2.641-1.738a88.708 88.708 0 0 0 1.863-2.107c5.135.43 9.082-.556 9.532-.701 1.036-.337 6.902-1.088 7.857-8.876.984-8.03-.477-13.106-3.117-15.397Z",fill:"#fff"})]})}},644035:(e,i,t)=>{t.d(i,{GW:()=>n,RL:()=>s,s4:()=>a});const s="ios",n="android",a="ipad"},999023:(e,i,t)=>{t.d(i,{Z:()=>l});var s=t(667294),n=t(112690),a=t(867820);const o=({viewType:e,viewParameter:i,viewData:t,auxData:s,objectIdStr:n,component:o,clientTrackingParams:l,element:r},c)=>{const d=(h={event_type:13,view_type:e,view_parameter:i,view_data:t,aux_data:s,object_id_str:n,component:o,clientTrackingParams:l,element:r},Object.keys(h).reduce(((e,i)=>(void 0!==h[i]&&(e[i]=h[i]),e)),{}));var h;-1===Object.keys(d).indexOf("view_type")&&(0,a.My)("mweb.logging.null_view_type"),c(d)};function l(e){const{auxData:i,clientTrackingParams:t,children:a,component:l,element:r,objectIdStr:c,viewData:d,viewParameter:h,viewType:_}=e,p=(0,n.Z)(),u=JSON.stringify(i),g=JSON.stringify(d);return(0,s.useEffect)((()=>{o(e,p)}),[p,u,t,l,r,c,g,h,_]),s.Children.only(a)}},116485:(e,i,t)=>{t.d(i,{AA:()=>a,E9:()=>g,EU:()=>f,IO:()=>x,Jd:()=>p,KH:()=>d,QR:()=>c,Uw:()=>n,ZR:()=>v,dy:()=>r,eA:()=>_,fo:()=>u,k7:()=>o,rT:()=>m,tz:()=>h,u9:()=>b,zR:()=>l,zu:()=>s});const s="OPEN_UNAUTH",n="openUnauthType",a="_isAfterLogin",o="_lastVisitedPages",l="_lastVisitedPagesBeforeLogin",r="_lastVisitedBoardPages",c="_lastVisitedPagesBeforeNavPage",d="_lastVisitedSessionPages",h="_unauthVisitedPages",_=20,p="_unauthInviteCode",u="_unauthReferrerString",g="unauthTopicsFollowed",m=["US","CA","NZ","AU"],x=new Set(["GB","IE"]),f=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),v=new Set(["BR","MX","AR","CL","CO","PE"]),b="ad_img"},529195:(e,i,t)=>{t.d(i,{CC:()=>w,Cb:()=>f,Ff:()=>T,H$:()=>S,Mt:()=>b,OJ:()=>x,Yi:()=>P,Ys:()=>m,Yy:()=>k,Z4:()=>g,ZN:()=>_,dc:()=>C,dp:()=>j,i$:()=>u,kw:()=>v,p9:()=>y,t_:()=>p});var s=t(231486),n=t(6637),a=t(826067),o=t(332215),l=t(226198),r=t(867820),c=t(622096),d=t(957161),h=t(116485);const _=["utm_pai","utm_source","invite_code"],p=()=>(0,d.qn)(h.tz,""),u=()=>{const e=p();let i;try{i=JSON.parse(e)}catch(t){i=[]}return i},g=(e,i)=>{const t=u(),s=t.length,n=s?t[0].path:"";if(s<h.eA&&(!s||e!==n)){const s={path:e,pageType:i,ts:Date.now()};(0,d.Nh)(h.tz,JSON.stringify([s].concat(t)))}},m=e=>{(0,d.Nh)(h.Jd,e)},x=()=>(0,d.qn)(h.fo,""),f=e=>{(0,d.Nh)(h.fo,e)},v=()=>{p()&&(0,d.L_)(h.tz),(0,d.qn)(h.Jd,"")&&(0,d.L_)(h.Jd),x()&&(0,d.L_)(h.fo)},b=(e,i,t,s,n,a,o=h.k7)=>{const l=(0,d.qn)(o)?JSON.parse((0,d.qn)(o)):[];if(!l[0]||l[0].path!==e){const r=[{path:e,ts:Date.now(),pin_id:t||0,first_pin_image_signature:i||"",first_pin_id:t||"",image_info:s||"",pin_description:n||"",is_shared:!!a,pin_invite_code:a}];(0,d.Nh)(o,JSON.stringify(r.concat(l)))}},w=({path:e,image:i,dominant_color:t,pin_description:s,pin_id:n})=>{const a=(()=>{const e=(0,c.qn)(h.KH);if(!e)return[];let i;try{i=JSON.parse(e)}catch(t){i=[]}return i})();if(!a[0]||a[0].path!==e){const o=[{path:e,image:i,pin_description:s||"",dominant_color:t||"",pin_id:n||""}];(0,c.Nh)(h.KH,JSON.stringify(o.concat(a)))}};function j(e,i,t,s,n,a){b(e,i,t,s,n,a,h.zR)}const S=(e,i)=>{var t,s;b(e,i.image_signature,i.id,null===(t=i.images)||void 0===t?void 0:t["236x"],null!==(s=i.description)&&void 0!==s?s:"","",h.dy)};function y(e,i,t,s,n){b(e,i,t,s,n,"",h.QR)}function C(){return u().filter((e=>"closeup"===e.pageType)).length}function P(){const e=n.Z.create("UnauthUserDataResource");return new Promise(((i,t)=>{e.callGet().then((e=>{const n=e.resource_response.data,a=!!s.U2(l.x3);return n?((0,o.Wn)(n.medium_image_url)&&(n.medium_image_url=""),(0,r.My)("mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_"+(a?"true":"false")),i(n)):((0,r.My)("mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_"+(a?"true":"false")),t({}))})).catch((e=>{if(e&&e.message){const i=e.message.replace(/\s/g,"_").toLowerCase();(0,r.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${i}`)}else(0,r.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return t(e)}))}))}function A({i18n:e,location:i}){const t=i.pathname.startsWith("/signup"),s=i.pathname.startsWith("/login");if(!t&&!s)return{showPLPBanner:!1,pinForBanner:null};let n;try{n=JSON.parse((0,c.qn)(h.KH))}catch(a){n=[]}if(n&&n.length>0){const i=n[0];if(i)return i.bannerCopy=e._('More ideas like this await', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from'),{showPLPBanner:Boolean(i.image),pinForBanner:i}}return{showPLPBanner:!1,pinForBanner:null}}const k=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function z({i18n:e,location:i}){var t;const s=(null===(t=i.state)||void 0===t?void 0:t.next)||k(i);if(s){const i=s.indexOf("?"),t=(0,a.mB)(s.substring(i));if(t.url&&t.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,a.Jx)(t.media),height:1,width:1},pinDescription:t.description,bannerCopy:e._('Save this idea and discover more inspiration like it.', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from')}}}return{showPLPBanner:!1,pinForBanner:null}}function T({i18n:e,location:i}){return z({i18n:e,location:i}).showPLPBanner?z({i18n:e,location:i}):A({i18n:e,location:i}).showPLPBanner?A({i18n:e,location:i}):{showPLPBanner:!1,pinForBanner:null}}},332215:(e,i,t)=>{function s(e){return Boolean(null==e?void 0:e.is_matured_new_user)}t.d(i,{IR:()=>o,V0:()=>s,Wn:()=>a,xT:()=>n});const n=e=>!!e&&2===e.login_state,a=e=>!(!e||!e.match(/\/static\/images\/user\/default_\d+\.png$/));function o(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},881802:(e,i,t)=>{t.d(i,{Bb:()=>x,Bx:()=>c,DF:()=>o,F4:()=>r,OG:()=>a,Qj:()=>d,_6:()=>m,gv:()=>l,hg:()=>h,is:()=>u,jP:()=>g,lt:()=>n,oM:()=>_,wI:()=>p});var s=t(826067);const n=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),a=e=>e.pathname,o=e=>{var i;return null!==(i=null==e?void 0:e._('You\'ll need to log in to do that', 'limitedLogin.modalHeader.completeAction', 'Mobile web limited login modal to prompt users to log in in order to complete current action'))&&void 0!==i?i:"You'll need to log in to do that"},l=({firstName:e,i18n:i})=>e?(i._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):i._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),r=e=>{const i=(0,s.mB)(e.search).board_url;if(i){const e=(0,s.Jx)(i),t=(0,s.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${t}`:`${e}?${t}`}return e.pathname},c=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),d=e=>{const i=e.pathname;if(i.startsWith("/pin/")){const e=i.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return i},h=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),_=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),p=e=>{const i=e.pathname;if(i.startsWith("/pin/")){const e=i.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return i},u=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),g=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),m=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),x=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},225313:(e,i,t)=>{t.d(i,{Z:()=>R});var s=t(667294),n=t(702664),a=t(90771),o=t(31149),l=t(659522),r=t(214680),c=t(331744),d=t(172071),h=t(757146),_=t(785893);function p({size:e=56}){return(0,_.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,_.jsx)("rect",{fill:"#e60023",height:"56",rx:"28",width:"56"}),(0,_.jsx)("path",{clipRule:"evenodd",d:"m28 31.9842 6 3.6666v-15.6508h-12v15.6508zm0 3.5158 5.9571 3.6404c1.3327.8145 3.0429-.1447 3.0429-1.7065v-17.4339c0-1.6569-1.3431-3-3-3h-12c-1.6569 0-3 1.3431-3 3v17.4339c0 1.5618 1.7102 2.521 3.0429 1.7065z",fill:"#fff",fillRule:"evenodd"})]})}var u=t(862960),g=t(941646),m=t(499128),x=t(464240),f=t(287072),v=t(89396),b=t(22641),w=t(467570),j=t(867820),S=t(773285),y=t(50286),C=t(167912),P=t(780280),A=t(898781),k=t(112690),z=t(52022),T=t(86802),I=t(642832),L=t(883119),O=t(957161),D=t(644035),E=t(343341);function N(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const M=56,B=String(86),Z=({text:e})=>(0,_.jsx)(L.xv,{align:"center",size:"100",children:e});class F extends s.PureComponent{constructor(...e){super(...e),N(this,"state",{invitePath:"",inviteCode:null,inviteMessage:"",inviteTitle:"",Clipboard:null,fbLoaded:!1}),N(this,"setClipboard",(e=>{const{Clipboard:i,invitePath:t}=this.state;(0,I.sF)(t,i,e,this.showCopyToast)})),N(this,"showCopyToast",(()=>{var e,i,t,s;this.logShareClick(12),this.setNewAppOrder(12),null===(e=(i=this.props).onShare)||void 0===e||e.call(i),this.props.showToast((({hideToast:e})=>(0,_.jsx)(m.ZP,{text:this.props.i18n._('Copied link to your clipboard to share', 'url link was copied to user clipboard', 'url link was copied to user clipboard'),onHide:e}))),null===(t=(s=this.props).setShareSent)||void 0===t||t.call(s,!0),this.props.trackInteraction({action:"click",item:"copy-link-share-icon"})})),N(this,"getDefaultAppOrder",(()=>{const{country:e,isDesktop:i}=this.props;return(0,I.pW)({country:e,isDesktop:i,shouldShowNativeShare:Boolean(navigator.share)})})),N(this,"getAppOrder",(()=>{const{isDesktop:e}=this.props;let i=JSON.parse((0,O.qn)(T.B));return!i||e?this.getDefaultAppOrder():(i=[...i.filter((e=>11!==e&&12!==e)),12],Boolean(navigator.share)&&i.push(11),i)})),N(this,"setNewAppOrder",(e=>{const{isDesktop:i}=this.props;i||T.F6.has(e)||(0,O.Nh)(T.B,JSON.stringify([e,...this.getAppOrder().filter((i=>i!==e))]))})),N(this,"handleMessagingAppClick",(e=>{var i,t,s,n;null===(i=(t=this.props).onShare)||void 0===i||i.call(t),null===(s=(n=this.props).setShareSent)||void 0===s||s.call(n,!0),this.logShareClick(e),this.setFreshInviteCode(e),T.rO.has(e)||(0,O.Nh)(T.Cq,e),this.setNewAppOrder(e)})),N(this,"handleMessengerClick",(()=>{this.props.trackInteraction({action:"click",item:"fbmessenger-share-icon"}),this.handleMessagingAppClick(6)})),N(this,"handleTwitterClick",(()=>{this.props.trackInteraction({action:"click",item:"twitter-share-icon"}),this.handleMessagingAppClick(9)})),N(this,"handleWhatsappClick",(()=>{this.props.trackInteraction({action:"click",item:"whatsapp-share-icon"}),this.handleMessagingAppClick(10)})),N(this,"handleLineClick",(()=>{this.handleMessagingAppClick(8)})),N(this,"handleTelegramClick",(()=>{this.handleMessagingAppClick(20)})),N(this,"handleViberClick",(()=>{this.handleMessagingAppClick(22)})),N(this,"handleEmailClick",(()=>{this.handleMessagingAppClick(3),this.props.trackInteraction({action:"click",item:"email-share-button"})})),N(this,"handleFacebookClick",(e=>{var i,t,s,n;const{isDesktop:a}=this.props;e.preventDefault(),null===(i=(t=this.props).onShare)||void 0===i||i.call(t),null===(s=(n=this.props).setShareSent)||void 0===s||s.call(n,!0),(0,j.My)(`pcons.${a?"desktop":"mobile"}.facebook-share-icon`),this.props.trackInteraction({action:"click",item:"facebook-share-icon"});const{inviteCode:o,invitePath:l,fbLoaded:r}=this.state;(0,I.Rh)(r,l,o||"",(()=>this.logShareClick(5))),this.setFreshInviteCode(5),this.setNewAppOrder(5)})),N(this,"handleSmsClick",(()=>{this.handleMessagingAppClick(4)})),N(this,"logShareClick",((e,i=this.state.inviteCode)=>{const{objectId:t,objectType:s,component:n,clientTrackingParams:a,logContextEvent:o,viewType:l,viewParameter:r}=this.props;(0,I.Iz)({inviteChannel:e,inviteCode:i,objectId:t,objectType:s,component:n,clientTrackingParams:a,logContextEvent:o,view_type:l,view_parameter:r})})),N(this,"copyButtonRef",null),N(this,"renderAppsInCustomOrder",(({Email:e,Facebook:i,FBMessenger:t,Line:n,WhatsApp:a,Twitter:o,Viber:l,Telegram:r,CopyLink:c,Sms:d,ShareVia:h})=>{const p=this.getAppOrder(),u=new Map([[6,t],[10,a],[5,i],[9,o],[3,e],[8,n],[20,r],[22,l],[4,d],[12,c],[11,h]]);return(0,_.jsx)(s.Fragment,{children:p.map((e=>u.get(e)))})})),N(this,"onHandleRepinSave",(({event:e,dangerouslyDisableOnNavigation:i})=>{var t,s;i(),null===(t=(s=this.props).onSave)||void 0===t||t.call(s),this.props.onNavigation({event:e})}))}componentDidMount(){this.setFreshInviteCode(12),(0,w.we)(this.props.locale).then((()=>{this.setState({fbLoaded:!0})})),t.e(6527).then(t.t.bind(t,842152,23)).then((({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))}))}componentDidUpdate({objectId:e}){const{objectId:i}=this.props;e!==i&&this.setFreshInviteCode(12)}async setFreshInviteCode(e){const{objectId:i,objectType:t}=this.props,{invitePath:s,inviteCode:n,title:a,message:o}=await(0,I.yP)(e,i,t,this.props.relayEnvironment),l={};s&&(l.invitePath=s),n&&(l.inviteCode=n),a&&(l.inviteTitle=a),o&&(l.inviteMessage=o),this.setState(l)}render(){const{isDesktop:e,objectType:i,onSave:t,showSaveOption:s,isAppleDevice:n}=this.props,{invitePath:m,inviteMessage:f,inviteTitle:w}=this.state,{emailShareLink:j,messengerShareLink:S,twitterShareLink:y,whatsappShareLink:C,lineShareLink:P,telegramShareLink:A,viberShareLink:k,smsShareLink:z}=(0,I.tA)({invitePath:m,inviteTitle:w,objectType:i,i18n:this.props.i18n,isDesktop:e}),T=({children:i})=>(0,_.jsx)(L.kC,{alignItems:"center",justifyContent:"start",direction:"column",width:e?`${B}px`:"100%",children:i}),O=({children:e})=>(0,_.jsx)(L.xu,{display:"flex",justifyContent:"center",paddingX:3,marginBottom:1,children:e}),D=(0,_.jsxs)(T,{children:[(0,_.jsx)(O,{children:(0,_.jsx)(g.Z,{id:"fbmessenger-share-icon",children:(0,_.jsx)(L.iP,{rounding:"circle",role:"link",rel:"nofollow",href:S,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleMessengerClick()},children:(0,_.jsx)(h.Z,{size:M})})})}),(0,_.jsx)(Z,{text:this.props.i18n._('Messenger', 'shareMenu.icon.label.messenger', 'Facebook Messenger App')})]}),E=(0,_.jsxs)(T,{children:[(0,_.jsx)(O,{children:(0,_.jsx)(g.Z,{id:"whatsapp-share-icon",children:(0,_.jsx)(L.iP,{rounding:"circle",role:"link",rel:"nofollow",href:C,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleWhatsappClick()},children:(0,_.jsx)(b.Z,{size:M})})})}),(0,_.jsx)(Z,{text:this.props.i18n._('WhatsApp', 'shareMenu.icon.label.whatsapp', 'WhatsApp App')})]}),N=(0,_.jsx)(L.xu,{"data-test-id":"facebook-share-icon",display:"flex",flex:"shrink",children:(0,_.jsxs)(T,{children:[(0,_.jsx)(O,{children:(0,_.jsx)(L.rU,{href:"#",onClick:({event:e})=>{this.handleFacebookClick(e)},children:(0,_.jsx)(l.Z,{size:M})})}),(0,_.jsx)(Z,{text:this.props.i18n._('Facebook', 'shareMenu.icon.label.facebook', 'Facebook App')})]})}),F=(0,_.jsxs)(T,{children:[(0,_.jsx)(O,{children:(0,_.jsx)(g.Z,{id:"twitter-share-icon",children:(0,_.jsx)(L.iP,{rounding:"circle",role:"link",rel:"nofollow",href:y,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTwitterClick()},children:(0,_.jsx)(x.Z,{size:M})})})}),(0,_.jsx)(Z,{text:this.props.i18n._('Twitter', 'shareMenu.icon.label.twitter', 'Twitter App')})]}),R=(0,_.jsxs)(T,{children:[(0,_.jsx)(O,{children:(0,_.jsx)(L.iP,{rounding:"circle",role:"link",rel:"nofollow",href:P,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleLineClick()},children:(0,_.jsx)(c.Z,{size:M})})}),(0,_.jsx)(Z,{text:this.props.i18n._('Line', 'shareMenu.icon.label.line', 'Line App')})]}),H=(0,_.jsxs)(T,{children:[(0,_.jsx)(O,{children:(0,_.jsx)(L.iP,{rounding:"circle",role:"link",rel:"nofollow",href:k,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleViberClick()},children:(0,_.jsx)(v.Z,{size:M})})}),(0,_.jsx)(Z,{text:this.props.i18n._('Viber', 'shareMenu.icon.label.viber', 'Viber App')})]}),U=(0,_.jsxs)(T,{children:[(0,_.jsx)(O,{children:(0,_.jsx)(L.iP,{rounding:"circle",role:"link",rel:"nofollow",href:A,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTelegramClick()},children:(0,_.jsx)(u.Z,{size:M})})}),(0,_.jsx)(Z,{text:this.props.i18n._('Telegram', 'shareMenu.icon.label.telegram', 'Telegram App')})]}),V=(0,_.jsxs)(T,{children:[(0,_.jsx)(O,{children:(0,_.jsx)(g.Z,{id:"email-share-button",children:(0,_.jsx)(L.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:j,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleEmailClick()},children:(0,_.jsx)(o.Z,{size:M})})})}),(0,_.jsx)(Z,{text:this.props.i18n._('Email', 'shareMenu.icon.label.email', 'Email App')})]}),G=(0,_.jsxs)(T,{children:[(0,_.jsx)(O,{children:(0,_.jsx)(L.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:"#",onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{var t,s;e.preventDefault(),null===(t=(s=this.props).onShare)||void 0===t||t.call(s),i();const n=f.indexOf("https://");navigator.share&&navigator.share({url:m,text:n>0?f.slice(0,n):f,title:w}).then((()=>{this.handleMessagingAppClick(11),d.Z.increment("allshareoptions_navigator_share.success",1)})).catch((e=>{d.Z.increment("allshareoptions_navigator_share.error",1,{name:e.name,message:e.message})}))},children:(0,_.jsx)(L.xu,{height:M,children:(0,_.jsx)(L.hU,{accessibilityLabel:this.props.i18n._('Native share sheet icon', 'shareMenu.icon.accessibilityLabel.native_share_sheet', 'Accessibility label for native share sheet icon'),bgColor:"lightGray",icon:"share",iconColor:"darkGray",size:"xl"})})})}),(0,_.jsx)(Z,{text:this.props.i18n._('Share via', 'shareMenu.icon.label.share_via', 'Share via label')})]}),W=(0,_.jsxs)(T,{children:[(0,_.jsx)(O,{children:(0,_.jsx)(L.iP,{rounding:"circle",role:"link",rel:"nofollow",href:z,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleSmsClick()},children:n?(0,_.jsx)(r.Z,{size:M}):(0,_.jsx)(a.Z,{size:M})})}),(0,_.jsx)(Z,{text:this.props.i18n._('Message', 'shareMenu.icon.label.message', 'Message App')})]}),$=(0,_.jsxs)(T,{children:[(0,_.jsx)(O,{children:(0,_.jsx)(L.xu,{ref:this.setClipboard,dangerouslySetInlineStyle:{__style:{cursor:e?"pointer":void 0}},"data-test-id":"copy-link-share-icon",height:M,children:(0,_.jsx)(L.hU,{accessibilityLabel:this.props.i18n._('Link icon', 'shareMenu.icon.accessibilityLabel.copy', 'Accessibility label for copy link icon'),bgColor:"lightGray",icon:"link",iconColor:"darkGray",size:"xl"})})}),(0,_.jsx)(Z,{text:this.props.i18n._('Copy link', 'shareMenu.icon.label.copy', 'Copy link icon')})]});return(0,_.jsxs)(L.xu,{children:[(0,_.jsx)(L.xu,{height:4}),(0,_.jsx)(L.kC,{alignItems:"stretch",justifyContent:"start",overflow:"hidden",children:(0,_.jsxs)(L.xu,{display:"flex",justifyContent:"start",height:e?180:void 0,width:e?370:"100vw",marginBottom:-2,paddingX:1,paddingY:2,overflow:e?void 0:"scrollX",wrap:e,children:[s&&t&&(()=>(0,_.jsxs)(T,{children:[(0,_.jsx)(O,{children:(0,_.jsx)(L.iP,{rounding:"circle",onTap:this.onHandleRepinSave,children:(0,_.jsx)(p,{size:M})})}),(0,_.jsx)(Z,{text:this.props.i18n._('Save', 'shareMenu.icon.label.save', 'Save')})]}))(),this.renderAppsInCustomOrder({Email:V,Facebook:N,FBMessenger:D,Line:R,WhatsApp:E,Twitter:F,Viber:H,Telegram:U,CopyLink:$,Sms:W,ShareVia:G})]})}),(0,_.jsx)(L.xu,{height:16})]})}}function R(e){const i=(0,A.ZP)(),t=(0,y.HG)(),{showToast:s}=(0,E.F9)(),{country:a,locale:o}=(0,P.B)(),l=(0,f.Z)({href:{pathname:`/pin/${e.objectId}/repin`,state:{viewType:e.viewType,viewParameter:e.viewParameter}}}),{checkExperiment:r}=(0,S.F)(),c=(0,n.useSelector)((({session:e})=>e.userAgentPlatform)),d=c===D.RL||c===D.s4,h=r("graphql_migration_sharesheet_sgrowth_web").anyEnabled,p=(0,C.useRelayEnvironment)(),u=(0,k.Z)(),g=(0,z.Z)();return(0,_.jsx)(F,{...e,country:a,i18n:i,isDesktop:t,locale:o,showToast:s,onNavigation:l,logContextEvent:u,isAppleDevice:d,relayEnvironment:h?p:void 0,trackInteraction:g})}},590674:(e,i,t)=>{t.r(i),t.d(i,{default:()=>$});var s=t(667294),n=t(225313),a=t(702664),o=t(766935),l=t(72566),r=t(936776),c=t(172071),d=t(6637),h=t(700380),_=t(784590),p=t(19121),u=t(479739),g=t(773285),m=t(698330),x=t(878499),f=t(116303),v=t(499128),b=t(898781),w=t(927383),j=t(349700),S=t(313951),y=t(883119),C=t(276775),P=t(343341),A=t(785893);function k(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class z extends s.PureComponent{constructor(...e){var i;super(...e),i=this,k(this,"state",{viewConversation:!1,isSent:!1,path:""}),k(this,"renderViewConversationButton",(()=>{const{viewConversation:e}=this.state;return e?(0,A.jsxs)(y.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,A.jsx)(y.zx,{fullWidth:!0,size:"sm",text:this.props.i18n._('View chat', 'View current chat', 'View current chat'),color:"white",onClick:()=>{this.onViewConversation()}}),(0,A.jsx)(y.JO,{icon:"arrow-forward",color:"default",accessibilityLabel:this.props.i18n._('View chat', 'View current chat', 'View current chat')})]}):(0,A.jsxs)(y.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,A.jsx)(y.xu,{marginEnd:2,children:(0,A.jsx)(y.JO,{icon:"check",color:"default",accessibilityLabel:this.props.i18n._('sent', 'content is sent', 'content is sent')})}),(0,A.jsx)(y.xu,{marginEnd:2,children:(0,A.jsx)(y.xv,{size:"300",color:"subtle",weight:"bold",children:this.props.i18n._('Sent', 'mweb.sharemenu.contactItem.isSent', 'Text notification indicating a Pin has been sent to a pinner')})})]})})),k(this,"onViewConversation",(()=>{const{path:e}=this.state;c.Z.increment("mweb_sharesheet_view_conversation",1),this.props.history.push(e)})),k(this,"onInlineSend",this.props.requireAuthForLimitedLogin({fn:async function(){const e={1:"pin",2:"board",3:"user",8:"today_article"},{createConversation:t,i18n:s,isFullHeight:n,onDismiss:a,setShareSent:o,recipient:l,sendObject:r,showToast:d,email:h,updateCachedContactsAfterSend:_,userId:p}=i.props,u=e[r.objectType];i.setState({isSent:!0});try{const e=await t({user_ids:l?[l.id,p]:void 0,[u]:r.objectId,emails:h?[h]:void 0});if(e){const t=e.id;i.setState({path:`/conversation/${t}`,viewConversation:!0}),c.Z.increment("mweb_sharesheet.inline_send",1,{success:!0}),o(!0),null==_||_(),!n&&a&&(d((({hideToast:e})=>(0,A.jsx)(v.ZP,{dataTestId:"sharesheet-inline-send-toast",primaryAction:{accessibilityLabel:s._('View the conversation', 'ContactItem.ConfirmationToast.a11yButtonText', 'Button on confirmation toast after a user sends a Pin/Board/Profile to view the conversation'),label:s._('View', 'ContactItem.ConfirmationToast.buttonText', 'Button on confirmation toast after a user sends a Pin/Board/Profile to view the conversation'),onClick:i.onViewConversation},duration:4e3,onHide:e,text:(0,j.Wc)(s._('Sent to {{recipientName}}!', 'ContactItem.ConfirmationToast.text', 'Confirmation toast after a user sends a Pin/Board/Profile'),{recipientName:(null==l?void 0:l.full_name)||""}),iconThumbnail:(0,A.jsx)(f.Z,{size:"fit",src:(null==l?void 0:l.image_large_url)||"",name:(null==l?void 0:l.full_name)||""}),thumbnailShape:"circle"}))),a(t))}}catch(g){d((({hideToast:e})=>(0,A.jsx)(v.ZP,{variant:"error",text:(null==g?void 0:g.message_detail)||(null==g?void 0:g.message)||s._('Failed to create conversation.', 'ContactItem.errorToast.text', 'Error during message send from the share sheet'),onHide:e}))),i.setState({isSent:!1}),c.Z.increment("mweb_sharesheet.inline_send",1,{success:!1,error:g})}}}))}render(){var e,i,t,s;const{isFullHeight:n,recipient:a,email:o}=this.props,{isSent:l}=this.state;return!n&&a?(0,A.jsxs)(y.xu,{"data-test-id":"sharesheet-send-button",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,A.jsx)(y.iP,{onTap:()=>this.onInlineSend(),children:(0,A.jsx)(y.xu,{height:56,marginBottom:1,width:56,children:(0,A.jsx)(f.Z,{size:"fit",src:null!==(e=a.image_large_url)&&void 0!==e?e:"",name:null!==(i=a.full_name)&&void 0!==i?i:""})})}),(0,A.jsx)(y.xu,{width:56,children:(0,A.jsx)(y.xv,{lineClamp:1,size:"100",align:"center",children:a.full_name})})]}):(0,A.jsxs)(y.xu,{"data-test-id":"sharesheet-send-button",position:"relative",direction:"row",display:"flex",width:"100%",alignItems:"center",justifyContent:"between",paddingY:2,children:[a?(0,A.jsx)(y.xu,{children:(0,A.jsx)(f.Z,{size:"md",src:null!==(t=a.image_large_url)&&void 0!==t?t:"",name:null!==(s=a.full_name)&&void 0!==s?s:""})}):o&&(0,A.jsx)(y.xu,{children:(0,A.jsx)(f.Z,{size:"md",name:o})}),(0,A.jsx)(y.xu,{paddingX:2,flex:"grow",maxWidth:"71%",children:(0,A.jsx)(y.xv,{lineClamp:1,weight:"bold",children:a?a.full_name:o&&l?o:(0,j.nk)(this.props.i18n._('invite {{email}}', 'mweb.newMessage.searchEmail', 'invite from email'),{email:o})})}),(0,A.jsx)(y.xu,{"data-test-id":"sharesheet-viewchat-link",right:!0,flex:"none",maxWidth:"100%",children:l?this.renderViewConversationButton():(0,A.jsx)(y.zx,{fullWidth:!0,size:"lg",color:"gray",text:this.props.i18n._('Send', 'Send current content', 'Send current content'),onClick:()=>{this.onInlineSend()}})})]})}}function T(e){const i=(0,C.useHistory)(),t=(0,b.ZP)(),s=(0,w.Z)(),{showToast:n}=(0,P.F9)(),a=(0,S.aX)();return(0,_.Z)({name:"ConversationsResource",options:{user_ids:[e.userId]}}),(0,A.jsx)(z,{...e,createConversation:a,history:i,i18n:t,requireAuthForLimitedLogin:s,showToast:n})}var I=t(112690),L=t(379725);function O(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const D={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};class E extends s.PureComponent{componentDidUpdate(e){const{fetching:i}=e,{value:t}=this.state,s=i&&!this.props.fetching,n=this.getContactSuggestions();if(!t&&s){const e=n.length>0?7511:7512;this.props.logContextEvent({event_type:e,view_type:70,view_parameter:256})}}constructor(e){super(e),O(this,"state",{value:"",showScrollShadow:!1,defaultSuggestions:[],loadingDefaultSuggestions:!0}),O(this,"onSearchChange",(({value:e})=>{const{userId:i,searchContacts:t}=this.props,s={options:{user:i,term:e}};this.setState({value:e},t(s))})),O(this,"getContactSuggestions",(()=>{const{typeaheadSuggestions:e,userId:i,users:t}=this.props,{value:s,defaultSuggestions:n}=this.state;if(!s)return n.filter((e=>t[e.id]))||[];const a=`share-suggestions:${i}:${s}`,o=`share-suggestions:${i}:${s.slice(0,-1)}`;return e[a]||e[o]||[]})),O(this,"renderContactSuggestions",(()=>{const{expandContactsList:e,fetching:i,i18n:t,isFullHeight:s,onDismiss:n,sendObject:a,setShareSent:o,userId:l,users:c,updateCachedContactsAfterSend:d}=this.props,{loadingDefaultSuggestions:h,value:_}=this.state,p=this.getContactSuggestions(),u=i||h;let g;return g=!s&&u?107:"100%",u?(0,A.jsx)(y.xu,{alignItems:"center",display:"flex",justifyContent:"center",height:g,paddingY:2,children:(0,A.jsx)(y.$j,{show:!0,accessibilityLabel:t._('Searching for contacts', 'Placeholder text for spinner on share menu', 'Placeholder text for spinner on share menu')})}):0===p.length&&!(0,r.Z)(_)&&_&&s?(0,A.jsx)(y.xu,{marginTop:3,children:(0,A.jsx)(y.xv,{align:"center",children:t._('Sorry, we can\'t find anyone by that name.', 'Text to show empty state when a contact can not be found', 'Text to show empty state when a contact can not be found')})}):(0,A.jsx)(y.kC,{direction:s?"column":"row",overflow:s?void 0:"hidden",children:(0,A.jsxs)(y.xu,{display:s?void 0:"flex",height:g,overflow:s?void 0:"scrollX",marginBottom:0,marginTop:0,paddingX:s?4:1,paddingY:0,children:[0===p.length&&(0,r.Z)(_)&&(0,A.jsx)(T,{email:_,isFullHeight:s,sendObject:a,setShareSent:o,userId:l}),!s&&(0,A.jsxs)(y.xu,{alignItems:"center",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,A.jsx)(y.xu,{height:56,marginBottom:1,width:56,children:(0,A.jsx)(y.hU,{accessibilityLabel:t._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:e,size:"xl"})}),(0,A.jsx)(y.xv,{lineClamp:1,size:"100",children:t._('Search', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list')})]}),p.map((e=>{var i;return(0,A.jsx)(T,{isFullHeight:s,onDismiss:n,recipient:c[null!==(i=e.id)&&void 0!==i?i:""],sendObject:a,setShareSent:o,userId:l,updateCachedContactsAfterSend:d},e.id)}))]})})})),this.scrollerRef=(0,s.createRef)()}async componentDidMount(){const{inContactsCacheExp:e,cachedShareSuggestions:i,getFreshContactSuggestions:t,updateCachedShareSuggestions:s}=this.props;if(e)if(i)this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:i});else{const e=await t()||[];s(e),this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}else{const e=await t()||[];this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}}render(){const{showScrollShadow:e}=this.state,{isFullHeight:i,expandContactsList:t}=this.props,n=(0,h.Z)((()=>{const e=this.scrollerRef.current;e&&!Number.isNaN(e.scrollTop)&&this.setState({showScrollShadow:e.scrollTop>0})}),100);return(0,A.jsx)(s.Fragment,{children:i?(0,A.jsxs)(y.xu,{color:"default",display:"flex",direction:"column",paddingX:0,height:"90%",children:[(0,A.jsx)(y.xu,{"data-test-id":"contact-suggestion-search-field",paddingY:2,color:"default",paddingX:4,dangerouslySetInlineStyle:{__style:e?D:null},children:(0,A.jsx)(l.Z,{accessibilityLabel:this.props.i18n._('search contact', 'Accessibility label for searchbar on share menu', 'Accessibility label for searchbar on share menu'),id:"contactsSuggestSearchField",onChange:this.onSearchChange,onFocus:t,placeholder:this.props.i18n._('Search by name or email', 'Placeholder text for searchbar on share menu', 'Placeholder text for searchbar on share menu'),value:this.state.value,autoFocus:i})}),(0,A.jsx)(y.xu,{display:"flex",direction:"column",paddingY:1,overflow:"scrollY",onScroll:n,ref:this.scrollerRef,children:this.renderContactSuggestions()})]}):(0,A.jsx)(y.xu,{children:this.renderContactSuggestions()})})}}function N(e){const i=(0,b.ZP)(),t=(0,m.kW)(),s=(0,I.Z)(),{id:n}=(0,p.Z)(),l=(0,a.useDispatch)();(0,_.Z)({name:"ShareSuggestionsTypeaheadResource",options:{term:"",user:n}});const r=(0,a.useSelector)((i=>(0,u.oF)(i,e))),h=(0,a.useSelector)((e=>e.resources.ShareSuggestionsTypeaheadResource)),f=Object.keys(h||{}).some((e=>h[e].fetching)),{cachedShareSuggestions:v,clearCachedShareSuggestions:w,updateCachedShareSuggestions:j}=(0,x.$)(),S=async()=>{let e;const i=d.Z.create("ShareSuggestionsResource",{suggestion_type:"share"});try{var t;e=null===(t=(await i.callGet()).resource_response)||void 0===t?void 0:t.data}catch(s){c.Z.increment("mweb_share_menu_load_suggestions.fail.share",1)}return e},{checkExperiment:y}=(0,g.F)(),C=y("mweb_cache_contacts_share").anyEnabled;return(0,A.jsx)(E,{...e,i18n:i,logContextEvent:s,users:t,searchContacts:e=>{(0,o.Z)(l((0,L.U)("ShareSuggestionsTypeaheadResource",e)),200)},fetching:f,userId:n||"",typeaheadSuggestions:r,inContactsCacheExp:C,cachedShareSuggestions:v,getFreshContactSuggestions:S,updateCachedContactsAfterSend:async()=>{if(C){w();const e=await S();e&&j(e)}},updateCachedShareSuggestions:j})}var M=t(79113),B=t(121151),Z=t(667679),F=t(52022),R=t(867820),H=t(53987),U=t(50286);const V=14121,G=({heading:e,onDismiss:i})=>{const t=(0,b.ZP)();return(0,A.jsxs)(y.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,A.jsx)(y.xu,{display:"flex",alignItems:"center",padding:1,children:(0,A.jsx)(y.hU,{accessibilityLabel:t._('Close', 'close share menu', 'close share menu'),icon:"cancel",onClick:i,size:"sm",iconColor:"darkGray",padding:4})}),(0,A.jsx)(y.xu,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"center",marginEnd:12,children:(0,A.jsx)(y.xv,{align:"center",weight:"bold",children:(0,A.jsx)("span",{className:"deprecatedTextSizeXL",children:e})})})]})},W=({children:e,isOpen:i,onDismiss:t,childPaddingX:s=3,shouldRenderCloseIcon:n,shouldRenderFullHeight:a,heading:o})=>{const l=(0,b.ZP)(),r={mobileAccessibilityCloseIconLabel:l._('close send modal', ' - ', ' -- '),accessibilityModalLabel:"",heading:o,mobileHideCloseIcon:!n,isOpen:i,onDismiss:t,type:"share_menu"};return a?(0,A.jsxs)(M.Z,{isOpen:i,accessibilityModalLabel:o,children:[(0,A.jsx)(G,{heading:o,onDismiss:t}),e]}):(0,A.jsx)(B.ZP,{...r,children:(0,A.jsx)(y.xu,{marginTop:n?0:4,paddingX:s,children:e})})},$=({isOpen:e,onDismiss:i,objectType:t,objectId:a,hideContactsSuggestions:o,clientTrackingParams:l,element:r,viewType:d,viewParameter:h})=>{const _=(0,b.ZP)(),[u,m]=(0,s.useState)(!1),[x,f]=(0,s.useState)(!1),v=u||!o,w=(0,C.useLocation)(),j=(0,U.HG)(),{isAuth:S}=(0,p.Z)(),{checkExperiment:P}=(0,g.F)(),k=(0,Z.Z)(),z=(0,I.Z)(),T=(0,F.Z)(),L=e=>{P("mweb_share_menu_logging").anyEnabled&&z({clientTrackingParams:l,component:V,event_type:x||e?7493:7492,element:13097,view_type:70,view_parameter:h,aux_data:{invite_object:t}});const s=(e=>(0,H.cD)(e)?"profile_page":(0,H.am)(e)?"board_page":(0,H.uM)(e)?"pin_page":"unknown")(w),n=!j&&!S&&P("unauth_mweb_after_invite_signup_modal").anyEnabled;T({action:"click",item:"close-share-menu"}),i(),n&&x&&k({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`tap_unauth_${s}_share_menu_click_invite`}),f(!1),(0,R.My)(`mweb_${s}_share_menu.click_invite.close`)},O=P("mweb_share_menu_logging").anyEnabled;(0,s.useEffect)((()=>{e&&z({event_type:7120,component:V,object_id_str:a,clientTrackingParams:O?l:null,element:O?r:null,view_type:O?d:70,view_parameter:O?h:256,aux_data:O?{invite_object:t}:void 0})}),[e,P,O]);const D=(0,U.Wb)(),E=_._('Send on Pinterest', 'Heading for share contacts search', 'Heading for share contacts search'),M=_._('Share', 'ShareMenu.AllShareOptions.HeaderText', 'Header for social share options section of the share menu'),B=u?E:(0,A.jsx)(y.xu,{marginTop:0,children:(0,A.jsx)(y.xv,{align:"center",weight:"bold",size:"300",children:v?E:M})});return(0,A.jsx)(W,{isOpen:e,onDismiss:u?()=>{m(!1),c.Z.increment("mweb_sharesheet.contacts.collapse",1)}:()=>L(),shouldRenderFullHeight:u,shouldRenderCloseIcon:!0,childPaddingX:0,heading:B,children:(0,A.jsxs)(y.xu,{marginBottom:8,marginTop:u||!v?0:-4,maxWidth:D?440:"100%",children:[v&&(0,A.jsx)(N,{sendObject:{objectId:a,objectType:t},expandContactsList:()=>{m(!0),c.Z.increment("mweb_sharesheet.contacts.expand",1)},isFullHeight:u,onDismiss:L,setShareSent:e=>f(e)}),!u&&(0,A.jsxs)(s.Fragment,{children:[v&&(0,A.jsxs)(y.xu,{marginTop:4,paddingX:4,children:[(0,A.jsx)(y.iz,{}),(0,A.jsx)(y.xu,{marginTop:8,children:(0,A.jsx)(y.xv,{align:"center",size:"300",weight:"bold",children:M})})]}),(0,A.jsx)(n.Z,{objectId:a,objectType:t,viewType:O?d:70,viewParameter:h,onDismiss:L,setShareSent:e=>f(e),clientTrackingParams:l,component:V})]})]})})}},878499:(e,i,t)=>{t.d(i,{$:()=>l,l:()=>r});var s=t(667294),n=t(425288),a=t(785893);const{Provider:o,useHook:l}=(0,n.Z)("ShareSuggestions");function r({children:e}){const[i,t]=(0,s.useState)(void 0),n=(0,s.useCallback)((()=>{t(void 0)}),[]),l=(0,s.useCallback)((e=>{t(e)}),[]),r=(0,s.useMemo)((()=>({cachedShareSuggestions:i,clearCachedShareSuggestions:n,updateCachedShareSuggestions:l})),[i,n,l]);return(0,a.jsx)(o,{value:r,children:e})}},86802:(e,i,t)=>{t.d(i,{B:()=>a,Cq:()=>n,F6:()=>h,RV:()=>s,VZ:()=>o,W_:()=>r,bm:()=>l,iS:()=>_,rO:()=>d,zn:()=>c});const s="animatedShareIconLastViewed",n="lastUsedSocialShare",a="customizedSocialAppOrder",o=44,l=9e5,r=4e3,c=5e3,d=new Set([12,3,11]),h=new Set([11,12]),_=new Map([["AU",6],["CA",6],["DK",6],["DZ",6],["GE",6],["HU",6],["LT",6],["NO",6],["NP",6],["NZ",6],["PH",6],["PL",6],["SK",6],["TN",6],["US",6],["JP",8],["TW",8],["TH",8],["IQ",20],["KH",20],["MM",20],["UZ",20],["BA",22],["BG",22],["BY",22],["CY",22],["GR",22],["MD",22],["RS",22],["UA",22]])}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/8824-464bf98362535702.mjs.map